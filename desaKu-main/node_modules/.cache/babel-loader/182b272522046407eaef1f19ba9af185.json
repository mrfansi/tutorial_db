{"ast":null,"code":"var _jsxFileName = \"/Users/mrfansi/GitHub/tutorial_db/desaKu-main/src/components/Table.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"../api/axios\";\nimport React, { useState } from \"react\";\nimport { Button } from \"./Button\";\nimport { useAuth } from '../hooks/useAuth';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst TableWarga = req => {\n  _s();\n\n  const {\n    warga\n  } = useAuth();\n  const navigate = useNavigate();\n  const [data, setData] = useState([]);\n  const [errMsg, setErrMsg] = useState([]);\n\n  if (!warga) {\n    navigate('/login');\n  }\n\n  const Warga_URL = '/warga';\n\n  const loadData = async e => {\n    e.preventDefault();\n\n    try {\n      const response = await axios.get(Warga_URL, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer' + warga.token\n        }\n      });\n\n      if (response !== null && response !== void 0 && response.data) {\n        setData(response.data.result);\n      }\n    } catch (e) {\n      var _e$response, _e$response$data;\n\n      if (!(e !== null && e !== void 0 && e.response)) {\n        setErrMsg('nothing response from server');\n      } else if (e !== null && e !== void 0 && (_e$response = e.response) !== null && _e$response !== void 0 && (_e$response$data = _e$response.data) !== null && _e$response$data !== void 0 && _e$response$data.message) {\n        var _e$response2, _e$response2$data;\n\n        setErrMsg(e === null || e === void 0 ? void 0 : (_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : (_e$response2$data = _e$response2.data) === null || _e$response2$data === void 0 ? void 0 : _e$response2$data.message);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [errMsg ? /*#__PURE__*/_jsxDEV(\"span\", {\n      children: errMsg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this) : '', /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table-auto w-9/12\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        className: \"bg-gray-50 border-b-2 border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"p-3 font-semibold text-left\",\n            children: \"Nama\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"p-3 font-semibold text-left\",\n            children: \"Contact\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"p-3 font-semibold text-left\",\n            children: \"AlamatKtp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"p-3 font-semibold text-left\",\n            children: \"Pekerjaan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"p-3 font-semibold text-left\",\n            children: \"Action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        onLoad: loadData,\n        children: data ? data.map(p => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-3 border-r-2 border-b-2\",\n              children: p.nama\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-3 border-r-2 border-b-2\",\n              children: p.contact\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-3 border-r-2 border-b-2\",\n              children: p.alamatKtp\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-3 border-r-2 border-b-2\",\n              children: p.pekerjaan\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-3 border-r-2 border-b-2 flex gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                text: \"Update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                text: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this);\n        }) : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(TableWarga, \"6sS/N2SrNoKRUg9OH/q8yMJRWWQ=\", false, function () {\n  return [useAuth, useNavigate];\n});\n\n_c = TableWarga;\nexport default TableWarga;\n\nvar _c;\n\n$RefreshReg$(_c, \"TableWarga\");","map":{"version":3,"names":["axios","React","useState","Button","useAuth","useNavigate","TableWarga","req","warga","navigate","data","setData","errMsg","setErrMsg","Warga_URL","loadData","e","preventDefault","response","get","headers","token","result","message","map","p","nama","contact","alamatKtp","pekerjaan"],"sources":["/Users/mrfansi/GitHub/tutorial_db/desaKu-main/src/components/Table.js"],"sourcesContent":["import axios from \"../api/axios\";\nimport React, {  useState } from \"react\";\nimport { Button } from \"./Button\";\nimport {useAuth }from '../hooks/useAuth';\nimport { useNavigate } from \"react-router-dom\";\n\n\nconst TableWarga = (req) => {\n  const {warga} =  useAuth();\n  const navigate = useNavigate();\n  const [data, setData]= useState([]);\n  const [errMsg, setErrMsg]= useState([]);\n\n  if(!warga) {\n    navigate('/login')\n  }\n    const Warga_URL = '/warga'\n\n    const loadData = async (e) => {\n      e.preventDefault();\n      try {\n        const response = await axios.get(Warga_URL, {\n          headers:{\n            'Content-Type':'application/json',\n            'Authorization':'Bearer' + warga.token\n      }})\n    \n      if(response?.data) {\n        setData(response.data.result)\n    }\n      } catch (e) {\n        if(!e?.response) {\n          setErrMsg('nothing response from server')\n        } else if (e?.response?.data?.message) {\n          setErrMsg(e?.response?.data?.message)\n          }\n      }\n    }\n  return (\n    <>\n    { errMsg ? (\n      <span>{errMsg}</span>\n    ): ''}\n   \n      <table className=\"table-auto w-9/12\">\n        <thead className=\"bg-gray-50 border-b-2 border-gray-200\">\n          <tr>\n          <th className=\"p-3 font-semibold text-left\">Nama</th>\n          <th className=\"p-3 font-semibold text-left\">Contact</th>\n          <th className=\"p-3 font-semibold text-left\">AlamatKtp</th>\n          <th className=\"p-3 font-semibold text-left\">Pekerjaan</th>\n          <th className=\"p-3 font-semibold text-left\">Action</th>\n          </tr>\n        </thead>\n        <tbody onLoad={loadData}>\n          { data ? data.map((p)=> {\n          return (\n            <tr>\n              <td className=\"p-3 border-r-2 border-b-2\">{p.nama}</td>\n              <td className=\"p-3 border-r-2 border-b-2\">{p.contact}</td>\n              <td className=\"p-3 border-r-2 border-b-2\">{p.alamatKtp}</td>\n              <td className=\"p-3 border-r-2 border-b-2\">{p.pekerjaan}</td>\n              <td className=\"p-3 border-r-2 border-b-2 flex gap-1\">\n                <Button text=\"Update\" />\n                <Button text=\"Delete\" />\n              </td> \n            </tr>\n          )\n          }): ''\n        }\n      </tbody>\n    </table>\n    </>\n  );\n};\n\nexport default TableWarga;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}