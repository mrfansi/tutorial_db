{"ast":null,"code":"var _jsxFileName = \"/Users/mrfansi/GitHub/tutorial_db/desaKu-main/src/components/TableKeuangan.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"../api/axios\";\nimport React, { useState } from \"react\";\nimport { Button } from \"./Button\";\nimport { useAuth } from '../hooks/useAuth';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst TableKeuangan = req => {\n  _s();\n\n  const {\n    warga\n  } = useAuth();\n  const KEUANGAN_URL = '/keuangan';\n  const [errMsg, setErrMsg] = useState([]);\n  const [data, setData] = useState([]);\n  const navigate = useNavigate();\n\n  if (!warga) {\n    navigate('/login');\n  }\n\n  const loadData = async e => {\n    e.preventDefault();\n\n    try {\n      const response = await axios.get(KEUANGAN_URL, {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        'Authorization': 'Bearer' + warga.token\n      });\n\n      if (response !== null && response !== void 0 && response.data) {\n        setData(response.data.result);\n      }\n    } catch (e) {\n      var _e$response, _e$response$data;\n\n      if (!(e !== null && e !== void 0 && e.response)) {\n        setErrMsg('tidak ada respon apa apa dari server');\n      } else if (!(e !== null && e !== void 0 && (_e$response = e.response) !== null && _e$response !== void 0 && (_e$response$data = _e$response.data) !== null && _e$response$data !== void 0 && _e$response$data.message)) {\n        var _e$response2, _e$response2$data;\n\n        setErrMsg(!(e !== null && e !== void 0 && (_e$response2 = e.response) !== null && _e$response2 !== void 0 && (_e$response2$data = _e$response2.data) !== null && _e$response2$data !== void 0 && _e$response2$data.message));\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [errMsg ? /*#__PURE__*/_jsxDEV(\"span\", {\n      children: errMsg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this) : '', /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table-auto w-9/12\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        className: \"bg-gray-50 border-b-2 border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"p-3 font-semibold text-left\",\n            children: \"nama\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"p-3 font-semibold text-left\",\n            children: \"Tgl bayar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"p-3 font-semibold text-left\",\n            children: \"nominal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: data ? data.map(p => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-3 border-r-2 border-b-2\",\n              children: p.nama\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-3 border-r-2 border-b-2\",\n              children: p.tglBayar\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-3 border-r-2 border-b-2\",\n              children: p.nominal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-3 border-r-2 border-b-2 flex gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: loadData,\n                text: \"Update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                text: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this)]\n          }, data.wargaid, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this);\n        }) : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(TableKeuangan, \"EptetUJQZHhfk27Ropwka+N1g7g=\", false, function () {\n  return [useAuth, useNavigate];\n});\n\n_c = TableKeuangan;\nexport default TableKeuangan;\n\nvar _c;\n\n$RefreshReg$(_c, \"TableKeuangan\");","map":{"version":3,"names":["axios","React","useState","Button","useAuth","useNavigate","TableKeuangan","req","warga","KEUANGAN_URL","errMsg","setErrMsg","data","setData","navigate","loadData","e","preventDefault","response","get","headers","token","result","message","map","p","nama","tglBayar","nominal","wargaid"],"sources":["/Users/mrfansi/GitHub/tutorial_db/desaKu-main/src/components/TableKeuangan.js"],"sourcesContent":["import axios from \"../api/axios\";\nimport React, {  useState } from \"react\";\nimport { Button } from \"./Button\";\nimport {useAuth} from '../hooks/useAuth'\nimport { useNavigate } from \"react-router-dom\";\n\nconst TableKeuangan = (req) => {\n  \n    const {warga} =  useAuth();\n    const KEUANGAN_URL = '/keuangan'\n    const [errMsg, setErrMsg] = useState([])\n    const [data, setData] = useState([])\n    const navigate = useNavigate()\n\n    if(!warga) {\n      navigate('/login')\n    }\n\n    const loadData = async(e) => {\n        e.preventDefault();\n        try {\n            const response = await axios.get(KEUANGAN_URL, {\n                headers:{'Content-Type':'application/json'},\n                'Authorization':'Bearer' + warga.token\n            })\n\n            if(response?.data) {\n                setData(response.data.result)\n            }\n        } catch (e) {\n            if(!e?.response) {\n                setErrMsg('tidak ada respon apa apa dari server')\n            } else if (!e?.response?.data?.message) {\n                setErrMsg(!e?.response?.data?.message)\n            }\n        }\n    }\n\n  return (\n    <>\n    {errMsg ? (\n        <span>{errMsg}</span>\n      ) :'' }\n      <table className=\"table-auto w-9/12\">\n        <thead className=\"bg-gray-50 border-b-2 border-gray-200\">\n          <tr>\n            <th className=\"p-3 font-semibold text-left\">nama</th>\n            <th className=\"p-3 font-semibold text-left\">Tgl bayar</th>\n            <th className=\"p-3 font-semibold text-left\">nominal</th>\n          </tr>\n        </thead>\n        <tbody>\n          {data ? data.map((p) => {\n            return (\n              <tr key={data.wargaid}>\n              <td className=\"p-3 border-r-2 border-b-2\">{p.nama}</td>\n              <td className=\"p-3 border-r-2 border-b-2\">{p.tglBayar}</td>\n              <td className=\"p-3 border-r-2 border-b-2\">{p.nominal}</td>\n              <td className=\"p-3 border-r-2 border-b-2 flex gap-1\">\n                <Button onClick={loadData} text=\"Update\" />\n                <Button text=\"Delete\" />\n              </td>\n            </tr>\n            )\n          }): ''\n        }\n        </tbody>\n      </table>\n    </>\n  );\n};\n\nexport default TableKeuangan;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}