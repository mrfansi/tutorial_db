{"ast":null,"code":"var _jsxFileName = \"/Users/mrfansi/GitHub/tutorial_db/desaKu-main/src/pages/Login.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { Button } from \"./../components/Button\";\nimport { Link } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport axios from '../api/axios';\nimport { useAuth } from '../hooks/useAuth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Login = () => {\n  _s();\n\n  const {\n    login\n  } = useAuth();\n  const [nama, setNama] = useState('');\n  const [password, setPassword] = useState('');\n  const [errMsg, setErrMsg] = useState('');\n  const [success, setSuccess] = useState('');\n  const LOGIN_URL = '/login';\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      const response = await axios.post(LOGIN_URL, JSON.stringify({\n        nama: nama,\n        password: password\n      }), {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response !== null && response !== void 0 && response.data) {\n        var _response$data;\n\n        setSuccess(true);\n        login(response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.result);\n      }\n    } catch (e) {\n      var _e$response, _e$response$data;\n\n      if (!(e !== null && e !== void 0 && e.response)) {\n        setErrMsg('nothing response from server');\n      } else if (e !== null && e !== void 0 && (_e$response = e.response) !== null && _e$response !== void 0 && (_e$response$data = _e$response.data) !== null && _e$response$data !== void 0 && _e$response$data.message) {\n        var _e$response2, _e$response2$data;\n\n        setErrMsg(e === null || e === void 0 ? void 0 : (_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : (_e$response2$data = _e$response2.data) === null || _e$response2$data === void 0 ? void 0 : _e$response2$data.message);\n      }\n    }\n  }; //   Axios.post('http://localhost:5000/auth/login',{\n  //             nama : nama,\n  //             password: password,\n  //  }, {\n  //      headers: {\n  //        'Content-Type': 'application/json',\n  //        'Authorization': 'Bearer jwtToken',\n  //        'Accept':'application/json',\n  //      } \n  //    })\n  //  .then((res) => {\n  //   navigate('/');\n  //   // if(res)// if (200) simpan token  ke cookies\n  //    console.log(\"server response:\",res);\n  //  })\n  //  .catch((err) =>{\n  //  console.log(\"Server responded with error\", err);\n  //  })\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [success ? /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Berhasil login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this) : '', errMsg ? /*#__PURE__*/_jsxDEV(\"span\", {\n      children: errMsg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this) : '', /*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-loginpic h-screen\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: \"p-4 text-white text-3xl bg-[#29b2ff] \",\n          children: \"\\u2190\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"m-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-4xl pb-5 font-bold text-[#29b2ff] text-center\",\n          children: \"Masuk\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          method: \"post\",\n          className: \"grid grid-rows-3 gap-4 w-80 h-70\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            className: \"border-solid border-2 radius p-2 rounded-md\",\n            placeholder: \"Username\",\n            value: nama,\n            onChange: e => {\n              setNama(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"name\",\n            className: \"border-solid border-2 radius p-2 rounded-md\",\n            placeholder: \"password\",\n            value: password,\n            onChange: e => {\n              setPassword(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"https://www.google.com\",\n            className: \"text-right text-sm\",\n            children: \"Lupa Password?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            text: \"Masuk\",\n            onClick: Login\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/register\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              text: \"Pendaftaran akun\",\n              className: \"buttonRegister\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Login, \"uDdnKUppRa5vkkGFsPP/KqOS830=\", false, function () {\n  return [useAuth];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","Helmet","Button","Link","useState","axios","useAuth","Login","login","nama","setNama","password","setPassword","errMsg","setErrMsg","success","setSuccess","LOGIN_URL","handleSubmit","e","preventDefault","response","post","JSON","stringify","headers","data","result","message","target","value"],"sources":["/Users/mrfansi/GitHub/tutorial_db/desaKu-main/src/pages/Login.js"],"sourcesContent":["import React from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { Button } from \"./../components/Button\";\nimport { Link } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport axios from '../api/axios'\nimport {useAuth} from '../hooks/useAuth';\n\n\n\nexport const Login = () => {\n  \n  const {login} = useAuth();\n  const [nama, setNama]=useState('');\n  const [password, setPassword]=useState('');\n  const [errMsg,setErrMsg]= useState('');\n  const [success,setSuccess]= useState('');\n\n \n  const LOGIN_URL ='/login'\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await axios.post(LOGIN_URL, JSON.stringify({\n        nama:nama,\n        password:password\n      }), {\n        headers: {\n          'Content-Type':'application/json'\n        }\n\n      })\n      \n      if (response?.data) {\n        setSuccess(true);\n        login(response?.data?.result)\n        \n     \n      }\n    } catch (e) {\n      if(!e?.response) {\n        setErrMsg('nothing response from server')\n      } else if (e?.response?.data?.message) {\n        setErrMsg(e?.response?.data?.message)\n        }\n      }\n    }\n\n\n\n\n  //   Axios.post('http://localhost:5000/auth/login',{\n  //             nama : nama,\n  //             password: password,\n              \n  //  }, {\n  //      headers: {\n  //        'Content-Type': 'application/json',\n  //        'Authorization': 'Bearer jwtToken',\n  //        'Accept':'application/json',\n  //      } \n  //    })\n  //  .then((res) => {\n  //   navigate('/');\n  //   // if(res)// if (200) simpan token  ke cookies\n  //    console.log(\"server response:\",res);\n   \n  //  })\n  //  .catch((err) =>{\n  //  console.log(\"Server responded with error\", err);\n  //  })\n\n  \n  return (\n    <>\n      {success ? (\n        <span>Berhasil login</span>\n      ): ''}\n      {errMsg ? (\n        <span>{errMsg}</span>\n      ):''}\n      <Helmet>\n        <title>Login</title>\n      </Helmet>\n      <div className=\"grid grid-cols-2 \">\n        <div className=\"bg-loginpic h-screen\">\n          <Link to=\"/\" className=\"p-4 text-white text-3xl bg-[#29b2ff] \">\n            ‚Üê\n          </Link>\n        </div>\n        <div className=\"m-auto\">\n          <h1 className=\"text-4xl pb-5 font-bold text-[#29b2ff] text-center\">Masuk</h1>\n          <form  onSubmit={handleSubmit} method=\"post\" className=\"grid grid-rows-3 gap-4 w-80 h-70\">\n          <input type=\"text\" name=\"name\" className=\"border-solid border-2 radius p-2 rounded-md\" placeholder=\"Username\" value={nama} onChange={(e) => {setNama(e.target.value);}}/>\n          <input type=\"password\" name=\"name\" className=\"border-solid border-2 radius p-2 rounded-md\" placeholder=\"password\" value={password} onChange={(e) => {setPassword(e.target.value);}}/>\n            <a href=\"https://www.google.com\" className=\"text-right text-sm\">\n              Lupa Password?\n            </a>\n            <Button text=\"Masuk\" onClick={Login} />\n            <Link to='/register' >\n              <Button text='Pendaftaran akun' className='buttonRegister' />\n            </Link>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n      }\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}